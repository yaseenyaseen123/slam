<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… - Ø³Ù„Ø§Ù… Ø­Ù…ÙˆØ¯</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: 'Cairo', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        .login-container {
            max-width: 400px;
            margin: 100px auto;
            background: white;
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
        }
        .login-container h1 {
            text-align: center;
            color: #667eea;
            margin-bottom: 30px;
        }
        .login-container input {
            width: 100%;
            padding: 15px;
            margin-bottom: 20px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 16px;
            font-family: 'Cairo', sans-serif;
        }
        .login-container button {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            transition: transform 0.2s;
        }
        .login-container button:hover {
            transform: translateY(-2px);
        }
        .admin-panel {
            display: none;
            max-width: 1200px;
            margin: 0 auto;
        }
        .admin-header {
            background: white;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }
        .admin-header h1 {
            color: #667eea;
        }
        .logout-btn {
            padding: 10px 20px;
            background: #ff4757;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-family: 'Cairo', sans-serif;
            font-weight: bold;
        }
        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        .tab-btn {
            padding: 12px 25px;
            background: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-family: 'Cairo', sans-serif;
            font-weight: bold;
            transition: all 0.3s;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .tab-btn.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        .tab-content {
            display: none;
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }
        .tab-content.active {
            display: block;
        }
        .form-group {
            margin-bottom: 20px;
        }
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #333;
        }
        .form-group input,
        .form-group textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-family: 'Cairo', sans-serif;
            font-size: 14px;
        }
        .form-group textarea {
            min-height: 100px;
            resize: vertical;
        }
        .save-btn {
            padding: 12px 30px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-family: 'Cairo', sans-serif;
            font-weight: bold;
            font-size: 16px;
            margin-top: 10px;
        }
        .save-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        .gallery-items, .video-items, .program-items {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        .item-card {
            border: 2px solid #e0e0e0;
            padding: 15px;
            border-radius: 8px;
            position: relative;
        }
        .item-card img {
            width: 100%;
            height: 150px;
            object-fit: cover;
            border-radius: 5px;
            margin-bottom: 10px;
        }
        .delete-btn {
            position: absolute;
            top: 10px;
            left: 10px;
            padding: 5px 15px;
            background: #ff4757;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-family: 'Cairo', sans-serif;
        }
        .add-item-btn {
            padding: 15px;
            background: #2ed573;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-family: 'Cairo', sans-serif;
            font-weight: bold;
            width: 100%;
            margin-bottom: 20px;
        }
        .success-msg {
            background: #2ed573;
            color: white;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            display: none;
        }
        .export-btn {
            padding: 15px 30px;
            background: #ffa502;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-family: 'Cairo', sans-serif;
            font-weight: bold;
            font-size: 16px;
            margin-right: 10px;
        }
    </style>
</head>
<body>
    <!-- Login Screen -->
    <div class="login-container" id="loginContainer">
        <h1>ğŸ” ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</h1>
        <input type="password" id="password" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±" />
        <button onclick="login()">Ø¯Ø®ÙˆÙ„</button>
        <p style="text-align: center; margin-top: 15px; color: #999; font-size: 14px;">
            ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©: salam2025
        </p>
    </div>

    <!-- Admin Panel -->
    <div class="admin-panel" id="adminPanel">
        <div class="admin-header">
            <h1>âš™ï¸ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</h1>
            <div style="display: flex; gap: 10px;">
                <button class="logout-btn" onclick="window.open('https://salam.zone.id', '_blank')" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
                    ğŸŒ Ø²ÙŠØ§Ø±Ø© Ø§Ù„Ù…ÙˆÙ‚Ø¹
                </button>
                <button class="logout-btn" onclick="logout()">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬</button>
            </div>
        </div>

        <div class="success-msg" id="successMsg">ØªÙ… Ø§Ù„Ø­ÙØ¸ Ø¨Ù†Ø¬Ø§Ø­! âœ…</div>

        <!-- ØªÙ†Ø¨ÙŠÙ‡ Ù…Ù‡Ù… -->
        <div style="background: linear-gradient(135deg, #ff6b6b 0%, #ee5a6f 100%); color: white; padding: 25px; border-radius: 15px; margin-bottom: 20px; box-shadow: 0 8px 30px rgba(255,107,107,0.4); border: 4px solid #ff4757;">
            <div style="display: flex; align-items: center; gap: 20px; flex-wrap: wrap;">
                <div style="font-size: 60px; animation: pulse 2s infinite;">âš ï¸</div>
                <div style="flex: 1; min-width: 300px;">
                    <h2 style="margin: 0 0 15px 0; font-size: 28px; text-shadow: 2px 2px 4px rgba(0,0,0,0.2);">ğŸ“¢ ØªÙ†Ø¨ÙŠÙ‡ Ù…Ù‡Ù… Ø¬Ø¯Ø§Ù‹!</h2>
                    <div style="background: rgba(255,255,255,0.2); padding: 15px; border-radius: 10px; margin-bottom: 15px;">
                        <p style="margin: 0; font-size: 19px; line-height: 1.8; font-weight: bold;">
                            âš¡ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª Ø§Ù„ØªÙŠ ØªÙ‚ÙˆÙ… Ø¨Ù‡Ø§ Ù‡Ù†Ø§ <span style="background: #fff; color: #ff4757; padding: 3px 10px; border-radius: 5px; font-size: 20px;">Ù…Ø­ÙÙˆØ¸Ø© ÙÙ‚Ø· ÙÙŠ Ù…ØªØµÙØ­Ùƒ Ø§Ù„Ø­Ø§Ù„ÙŠ</span>! âŒ
                        </p>
                    </div>
                    <div style="background: rgba(255,255,255,0.95); color: #333; padding: 20px; border-radius: 10px; line-height: 2;">
                        <p style="margin: 0 0 10px 0; font-weight: bold; font-size: 18px; color: #ff4757;">âœ¨ Ù„ÙƒÙŠ ØªØ¸Ù‡Ø± Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„Ø£Ø®Ø±Ù‰ ÙˆØ§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ù…Ø¨Ø§Ø´Ø±:</p>
                        <div style="margin: 10px 0;">
                            <strong style="font-size: 20px; color: #667eea;">1ï¸âƒ£</strong> <strong>Ø¥Ø¯Ø®Ø§Ù„ GitHub Token</strong> (ÙÙŠ ØªØ¨ÙˆÙŠØ¨ "Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©" Ø£Ø³ÙÙ„) â¬‡ï¸
                        </div>
                        <div style="margin: 10px 0;">
                            <strong style="font-size: 20px; color: #667eea;">2ï¸âƒ£</strong> <strong>Ø§Ù„Ø°Ù‡Ø§Ø¨ Ù„ØªØ¨ÙˆÙŠØ¨ "Ø§Ù„ØªØµØ¯ÙŠØ± ÙˆØ§Ù„Ù†Ø´Ø±"</strong> ğŸ“¤
                        </div>
                        <div style="margin: 10px 0;">
                            <strong style="font-size: 20px; color: #667eea;">3ï¸âƒ£</strong> <strong>Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ "ğŸš€ Ù†Ø´Ø± Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª Ù…Ø¨Ø§Ø´Ø±Ø©"</strong> âœ…
                        </div>
                    </div>
                    <div style="text-align: center; margin-top: 15px;">
                        <button onclick="showTab('export')" style="background: #ffeb3b; color: #333; border: none; padding: 15px 40px; font-size: 20px; font-weight: bold; border-radius: 10px; cursor: pointer; box-shadow: 0 5px 15px rgba(0,0,0,0.3); font-family: 'Cairo', sans-serif; transition: transform 0.2s;" onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'">
                            ğŸš€ Ø§Ø°Ù‡Ø¨ Ù„Ù„Ù†Ø´Ø± Ø§Ù„Ø¢Ù†
                        </button>
                    </div>
                </div>
            </div>
        </div>
        
        <style>
            @keyframes pulse {
                0%, 100% { transform: scale(1); }
                50% { transform: scale(1.1); }
            }
        </style>

        <div class="tabs">
            <button class="tab-btn active" onclick="showTab('basic')">Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©</button>
            <button class="tab-btn" onclick="showTab('infocards')">Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„ØªØ¹Ø±ÙŠÙÙŠØ©</button>
            <button class="tab-btn" onclick="showTab('programs')">Ø§Ù„Ø¨Ø±Ø§Ù…Ø¬</button>
            <button class="tab-btn" onclick="showTab('oldworks')">Ø§Ù„Ø£Ø¹Ù…Ø§Ù„ Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©</button>
            <button class="tab-btn" onclick="showTab('gallery')">Ù…Ø¹Ø±Ø¶ Ø§Ù„ØµÙˆØ±</button>
            <button class="tab-btn" onclick="showTab('videos')">Ø§Ù„ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª</button>
            <button class="tab-btn" onclick="showTab('social')">Ø§Ù„ØªÙˆØ§ØµÙ„ Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠ</button>
            <button class="tab-btn" onclick="showTab('guestbook')">Ø¨ØµÙ…Ø§Øª Ø§Ù„Ø²ÙˆØ§Ø±</button>
        </div>

        <!-- Basic Info Tab -->
        <div class="tab-content active" id="basic">
            <h2>Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©</h2>
            <div class="form-group">
                <label>Ø§Ù„Ø§Ø³Ù…</label>
                <input type="text" id="name" value="Ø³Ù„Ø§Ù… Ø­Ù…ÙˆØ¯" />
            </div>
            <div class="form-group">
                <label>Ø§Ù„ÙˆØµÙ Ø§Ù„Ù‚ØµÙŠØ±</label>
                <input type="text" id="subtitle" value="Ø§Ù„Ø¥Ø¹Ù„Ø§Ù…ÙŠØ© Ø§Ù„Ù‚Ø¯ÙŠØ±Ø© | Ù…Ø°ÙŠØ¹Ø© ÙˆÙ…Ø¹Ø¯Ø© Ø¨Ø±Ø§Ù…Ø¬" />
            </div>
            <div class="form-group">
                <label>Ø§Ù„ÙˆØµÙ Ø§Ù„ØªÙØµÙŠÙ„ÙŠ</label>
                <textarea id="description">Ø®Ø¨Ø±Ø© ØªØ²ÙŠØ¯ Ø¹Ù† 15 Ø¹Ø§Ù…Ù‹Ø§ ÙÙŠ Ù…Ø¬Ø§Ù„ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù…ØŒ Ù…ØªØ®ØµØµØ© ÙÙŠ ÙÙ† Ø§Ù„Ø¥Ù„Ù‚Ø§Ø¡ ÙˆØ§Ù„Ø®Ø·Ø§Ø¨Ø© ÙˆØ§Ù„ØªØ¹Ù„ÙŠÙ‚ Ø§Ù„ØµÙˆØªÙŠ ÙˆØ§Ù„Ø¨ÙˆØ¯ÙƒØ§Ø³Øª.</textarea>
            </div>
            
            <div style="background: #e8f5e9; padding: 20px; border-radius: 10px; border-right: 4px solid #4caf50; margin-top: 20px;">
                <h3 style="color: #2e7d32; margin-bottom: 15px;">ğŸ–¼ï¸ Ø§Ù„ØµÙˆØ± ÙˆØ§Ù„ÙˆØ³Ø§Ø¦Ø·</h3>
                <div class="form-group">
                    <label>ØµÙˆØ±Ø© Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ (Ø±Ø§Ø¨Ø· Ù…Ø¨Ø§Ø´Ø±)</label>
                    <input type="text" id="profileImage" value="profile_image_new.jpg" placeholder="https://example.com/profile.jpg" />
                    <small style="display: block; margin-top: 5px; color: #666;">
                        Ø±ÙØ¹ Ø§Ù„ØµÙˆØ±Ø© Ø¹Ù„Ù‰: <a href="https://imgur.com/upload" target="_blank">Imgur</a> Ø£Ùˆ <a href="https://postimages.org/" target="_blank">PostImages</a>
                    </small>
                </div>
                <div class="form-group">
                    <label>ØµÙˆØ±Ø© Ø§Ù„Ø®Ù„ÙÙŠØ© (Ø±Ø§Ø¨Ø· Ù…Ø¨Ø§Ø´Ø±)</label>
                    <input type="text" id="backgroundImage" value="new_background.png" placeholder="https://example.com/background.jpg" />
                    <small style="display: block; margin-top: 5px; color: #666;">
                        Ø§Ø³ØªØ®Ø¯Ù… ØµÙˆØ±Ø© Ø¨Ø­Ø¬Ù… ÙƒØ¨ÙŠØ± Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø£ÙØ¶Ù„ Ø¬ÙˆØ¯Ø© (1920x1080 Ø£Ùˆ Ø£ÙƒØ¨Ø±)
                    </small>
                </div>
                <div class="form-group">
                    <label>ğŸµ Ù…ÙˆØ³ÙŠÙ‚Ù‰ Ø§Ù„Ø®Ù„ÙÙŠØ© (Ø±Ø§Ø¨Ø· Ù…Ù„Ù ØµÙˆØªÙŠ MP3)</label>
                    <input type="text" id="backgroundAudio" value="" placeholder="https://voca.ro/xxxxx Ø£Ùˆ https://example.com/audio.mp3" />
                    <small style="display: block; margin-top: 5px; color: #666;">
                        <strong style="color: #2e7d32;">âœ… ÙŠÙ…ÙƒÙ†Ùƒ Ù„ØµÙ‚ Ø±Ø§Ø¨Ø· Vocaroo Ù…Ø¨Ø§Ø´Ø±Ø©!</strong><br>
                        Ù…Ø«Ø§Ù„: <code>https://voca.ro/15j4vtcIsUrv</code> (Ø³ÙŠØªÙ… ØªØ­ÙˆÙŠÙ„Ù‡ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ù„Ù„Ø±Ø§Ø¨Ø· Ø§Ù„Ù…Ø¨Ø§Ø´Ø±)<br><br>
                        <strong>ğŸ“± Ø·Ø±ÙŠÙ‚Ø© 1 - Ù…Ù† Vocaroo (Ø§Ù„Ø£Ø³Ù‡Ù„):</strong><br>
                        1ï¸âƒ£ Ø§ÙØªØ­ <a href="https://vocaroo.com/" target="_blank" style="color: #1976d2; font-weight: bold;">Vocaroo.com</a><br>
                        2ï¸âƒ£ Ø³Ø¬Ù‘Ù„ Ø£Ùˆ Ø§Ø±ÙØ¹ Ù…Ù„Ù ØµÙˆØªÙƒ<br>
                        3ï¸âƒ£ Ø§Ø¶ØºØ· "Ø­ÙØ¸ ÙˆØ¥Ù†Ù‡Ø§Ø¡"<br>
                        4ï¸âƒ£ Ø§Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø· Ù…Ù† Ø§Ù„Ù…ØªØµÙØ­ (Ù…Ø«Ù„: https://voca.ro/xxxxx)<br>
                        5ï¸âƒ£ Ø§Ù„ØµÙ‚Ù‡ Ù‡Ù†Ø§ ÙˆØ§Ø¶ØºØ· Ø­ÙØ¸ - Ø³ÙŠØªØ­ÙˆÙ„ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹! âœ¨<br><br>
                        <strong>ğŸ“± Ø·Ø±ÙŠÙ‚Ø© 2 - Ù…Ù† Ø±ÙŠÙ„Ø² ÙÙŠØ³Ø¨ÙˆÙƒ:</strong><br>
                        1ï¸âƒ£ Ø­Ù…Ù‘Ù„ Ø§Ù„Ø±ÙŠÙ„Ø²: <a href="https://fdown.net/ar" target="_blank" style="color: #1976d2; font-weight: bold;">FDown.net</a><br>
                        2ï¸âƒ£ Ø­ÙˆÙ‘Ù„ Ù„Ù€ MP3: <a href="https://online-audio-converter.com/ar/" target="_blank" style="color: #1976d2; font-weight: bold;">Audio Converter</a><br>
                        3ï¸âƒ£ Ø§Ø±ÙØ¹ Ø¹Ù„Ù‰ Vocaroo ÙˆØ§Ù„ØµÙ‚ Ø§Ù„Ø±Ø§Ø¨Ø· Ù‡Ù†Ø§<br><br>
                        ğŸ’¡ <strong>Ø§Ù„Ù†Ø¸Ø§Ù… Ø°ÙƒÙŠ:</strong> ÙŠÙƒØªØ´Ù Ø±ÙˆØ§Ø¨Ø· Vocaroo ÙˆÙŠØ­ÙˆÙ„Ù‡Ø§ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ù„Ù„Ø±Ø§Ø¨Ø· Ø§Ù„Ù…Ø¨Ø§Ø´Ø±!
                    </small>
                </div>
            </div>
            
            <div style="background: #fff3cd; padding: 15px; border-radius: 8px; margin-top: 20px; border-right: 4px solid #ffa502;">
                <h3 style="color: #856404; margin-bottom: 10px; font-size: 16px;">ğŸ”‘ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù†Ø´Ø±</h3>
                <div class="form-group">
                    <label>GitHub Token (Ù„Ù„Ù†Ø´Ø± Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ)</label>
                    <input type="password" id="githubToken" placeholder="ghp_xxxxxxxxxx" />
                    <small style="display: block; margin-top: 5px; color: #666;">
                        Ø§Ø­ØµÙ„ Ø¹Ù„Ù‰ Ø§Ù„ØªÙˆÙƒÙ† Ù…Ù†: <a href="https://github.com/settings/tokens" target="_blank">GitHub Settings â†’ Tokens</a>
                    </small>
                </div>
                <button class="save-btn" onclick="saveToken()" style="margin-bottom: 10px;">Ø­ÙØ¸ Ø§Ù„ØªÙˆÙƒÙ†</button>
            </div>
            
            <button class="save-btn" onclick="saveBasicInfo()">Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª</button>
            <button class="save-btn" onclick="publishToGitHub()" style="background: linear-gradient(135deg, #2ed573 0%, #1e8449 100%);">Publish to Website</button>
        </div>

        <!-- Info Cards Tab -->
        <div class="tab-content" id="infocards">
            <h2>Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„ØªØ¹Ø±ÙŠÙÙŠØ©</h2>
            <p style="margin-bottom: 20px; color: #666;">Ù‚Ø³Ù…: Ø³Ù„Ø§Ù… Ø­Ù…Ù‘ÙˆØ¯ | ØµÙˆØªÙŒ ÙŠÙ†Ø¨Ø¶ Ø¨Ø§Ù„Ø´ØºÙ ÙˆØ§Ù„Ø§Ø­ØªØ±Ø§Ù</p>
            <button class="add-item-btn" onclick="addInfoCard()">+ Ø¥Ø¶Ø§ÙØ© Ø¨Ø·Ø§Ù‚Ø© Ø¬Ø¯ÙŠØ¯Ø©</button>
            <div class="program-items" id="infoCardsList"></div>
            <button class="save-btn" onclick="publishToGitHub()" style="background: linear-gradient(135deg, #2ed573 0%, #1e8449 100%); margin-top: 20px;">Publish to Website</button>
        </div>

        <!-- Programs Tab -->
        <div class="tab-content" id="programs">
            <h2>Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¨Ø±Ø§Ù…Ø¬</h2>
            <button class="add-item-btn" onclick="addProgram()">+ Ø¥Ø¶Ø§ÙØ© Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø¬Ø¯ÙŠØ¯</button>
            <div class="program-items" id="programsList"></div>
            <button class="save-btn" onclick="publishToGitHub()" style="background: linear-gradient(135deg, #2ed573 0%, #1e8449 100%); margin-top: 20px;">Publish to Website</button>
        </div>

        <!-- Gallery Tab -->
        <div class="tab-content" id="gallery">
            <h2>Ø¥Ø¯Ø§Ø±Ø© Ù…Ø¹Ø±Ø¶ Ø§Ù„ØµÙˆØ±</h2>
            <button class="add-item-btn" onclick="addGalleryImage()">+ Ø¥Ø¶Ø§ÙØ© ØµÙˆØ±Ø© Ø¬Ø¯ÙŠØ¯Ø©</button>
            <div class="gallery-items" id="galleryList"></div>
            <button class="save-btn" onclick="publishToGitHub()" style="background: linear-gradient(135deg, #2ed573 0%, #1e8449 100%); margin-top: 20px;">Publish to Website</button>
        </div>

        <!-- Videos Tab -->
        <div class="tab-content" id="videos">
            <h2>Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª</h2>
            <button class="add-item-btn" onclick="addVideo()">+ Ø¥Ø¶Ø§ÙØ© ÙÙŠØ¯ÙŠÙˆ Ø¬Ø¯ÙŠØ¯</button>
            <div class="video-items" id="videosList"></div>
            <button class="save-btn" onclick="publishToGitHub()" style="background: linear-gradient(135deg, #2ed573 0%, #1e8449 100%); margin-top: 20px;">Publish to Website</button>
        </div>

        <!-- Old Works Tab -->
        <div class="tab-content" id="oldworks">
            <h2>Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ø¹Ù…Ø§Ù„ Ø§Ù„Ø³Ø§Ø¨Ù‚Ø© ÙˆØ§Ù„Ø¨Ø±Ø§Ù…Ø¬ Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø©</h2>
            <button class="add-item-btn" onclick="addOldWork()">+ Ø¥Ø¶Ø§ÙØ© Ø¹Ù…Ù„/Ø¨Ø±Ù†Ø§Ù…Ø¬ Ù‚Ø¯ÙŠÙ…</button>
            <div class="program-items" id="oldWorksList"></div>
            <button class="save-btn" onclick="publishToGitHub()" style="background: linear-gradient(135deg, #2ed573 0%, #1e8449 100%); margin-top: 20px;">Publish to Website</button>
        </div>

        <!-- Social Tab -->
        <div class="tab-content" id="social">
            <h2>Ø±ÙˆØ§Ø¨Ø· Ø§Ù„ØªÙˆØ§ØµÙ„ Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠ</h2>
            
            <div style="background: #e3f2fd; padding: 15px; border-radius: 10px; margin-bottom: 20px;">
                <h3 style="color: #1976d2; margin-bottom: 10px;">ğŸ’¡ Ù†ØµÙŠØ­Ø©:</h3>
                <p style="color: #0d47a1; margin: 0;">ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ø³ØªØ®Ø¯Ø§Ù…:</p>
                <ul style="margin: 10px 0 0 20px; color: #0d47a1;">
                    <li><strong>Ø¥ÙŠÙ…ÙˆØ¬ÙŠ:</strong> ğŸ“· ğŸµ â–¶ï¸ ğŸ‘¥ ğŸ¦ ğŸ“± ğŸ’¬ â­</li>
                    <li><strong>Ø±Ø§Ø¨Ø· ØµÙˆØ±Ø©:</strong> https://example.com/icon.png</li>
                    <li><strong>Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª Ù…Ù†:</strong> <a href="https://www.flaticon.com/" target="_blank">Flaticon</a> | <a href="https://icons8.com/" target="_blank">Icons8</a></li>
                </ul>
            </div>
            
            <h3 style="color: #667eea; margin: 30px 0 15px 0;">ğŸ“· Instagram</h3>
            <div class="form-group">
                <label>Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø© (Ø¥ÙŠÙ…ÙˆØ¬ÙŠ Ø£Ùˆ Ø±Ø§Ø¨Ø· ØµÙˆØ±Ø©)</label>
                <input type="text" id="instagram_icon" value="ğŸ“·" placeholder="ğŸ“· Ø£Ùˆ https://..." />
                <small style="display: block; margin-top: 5px; color: #666;">Ø¥ÙŠÙ…ÙˆØ¬ÙŠ Ø£Ùˆ Ø±Ø§Ø¨Ø· ØµÙˆØ±Ø© Ù…Ø¨Ø§Ø´Ø± (50x50 Ø¨ÙƒØ³Ù„ Ù…Ø«Ø§Ù„ÙŠ)</small>
            </div>
            <div class="form-group">
                <label>Ø±Ø§Ø¨Ø· Ø§Ù„Ø­Ø³Ø§Ø¨</label>
                <input type="text" id="instagram" value="https://instagram.com/salam_hammoud" />
            </div>
            <div class="form-group">
                <label>Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…</label>
                <input type="text" id="instagram_username" value="@salam_hammoud" />
            </div>
            
            <h3 style="color: #667eea; margin: 30px 0 15px 0;">ğŸµ TikTok</h3>
            <div class="form-group">
                <label>Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø© (Ø¥ÙŠÙ…ÙˆØ¬ÙŠ Ø£Ùˆ Ø±Ø§Ø¨Ø· ØµÙˆØ±Ø©)</label>
                <input type="text" id="tiktok_icon" value="ğŸµ" placeholder="ğŸµ Ø£Ùˆ https://..." />
                <small style="display: block; margin-top: 5px; color: #666;">Ø¥ÙŠÙ…ÙˆØ¬ÙŠ Ø£Ùˆ Ø±Ø§Ø¨Ø· ØµÙˆØ±Ø© Ù…Ø¨Ø§Ø´Ø± (50x50 Ø¨ÙƒØ³Ù„ Ù…Ø«Ø§Ù„ÙŠ)</small>
            </div>
            <div class="form-group">
                <label>Ø±Ø§Ø¨Ø· Ø§Ù„Ø­Ø³Ø§Ø¨</label>
                <input type="text" id="tiktok" value="https://www.tiktok.com/@salam_hammoud" />
            </div>
            <div class="form-group">
                <label>Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…</label>
                <input type="text" id="tiktok_username" value="@salam_hammoud" />
            </div>
            
            <h3 style="color: #667eea; margin: 30px 0 15px 0;">â–¶ï¸ YouTube</h3>
            <div class="form-group">
                <label>Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø© (Ø¥ÙŠÙ…ÙˆØ¬ÙŠ Ø£Ùˆ Ø±Ø§Ø¨Ø· ØµÙˆØ±Ø©)</label>
                <input type="text" id="youtube_icon" value="â–¶ï¸" placeholder="â–¶ï¸ Ø£Ùˆ https://..." />
                <small style="display: block; margin-top: 5px; color: #666;">Ø¥ÙŠÙ…ÙˆØ¬ÙŠ Ø£Ùˆ Ø±Ø§Ø¨Ø· ØµÙˆØ±Ø© Ù…Ø¨Ø§Ø´Ø± (50x50 Ø¨ÙƒØ³Ù„ Ù…Ø«Ø§Ù„ÙŠ)</small>
            </div>
            <div class="form-group">
                <label>Ø±Ø§Ø¨Ø· Ø§Ù„Ø­Ø³Ø§Ø¨</label>
                <input type="text" id="youtube" value="https://youtube.com/@salamhammoud9" />
            </div>
            <div class="form-group">
                <label>Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…</label>
                <input type="text" id="youtube_username" value="Salam Hammoud" />
            </div>
            
            <h3 style="color: #667eea; margin: 30px 0 15px 0;">ğŸ‘¥ Facebook</h3>
            <div class="form-group">
                <label>Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø© (Ø¥ÙŠÙ…ÙˆØ¬ÙŠ Ø£Ùˆ Ø±Ø§Ø¨Ø· ØµÙˆØ±Ø©)</label>
                <input type="text" id="facebook_icon" value="ğŸ‘¥" placeholder="ğŸ‘¥ Ø£Ùˆ https://..." />
                <small style="display: block; margin-top: 5px; color: #666;">Ø¥ÙŠÙ…ÙˆØ¬ÙŠ Ø£Ùˆ Ø±Ø§Ø¨Ø· ØµÙˆØ±Ø© Ù…Ø¨Ø§Ø´Ø± (50x50 Ø¨ÙƒØ³Ù„ Ù…Ø«Ø§Ù„ÙŠ)</small>
            </div>
            <div class="form-group">
                <label>Ø±Ø§Ø¨Ø· Ø§Ù„Ø­Ø³Ø§Ø¨</label>
                <input type="text" id="facebook" value="https://facebook.com/Salam.Hammoud.Anchor" />
            </div>
            <div class="form-group">
                <label>Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…</label>
                <input type="text" id="facebook_username" value="Salam Hammoud" />
            </div>
            
            <h3 style="color: #667eea; margin: 30px 0 15px 0;">ğŸ¦ Twitter</h3>
            <div class="form-group">
                <label>Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø© (Ø¥ÙŠÙ…ÙˆØ¬ÙŠ Ø£Ùˆ Ø±Ø§Ø¨Ø· ØµÙˆØ±Ø©)</label>
                <input type="text" id="twitter_icon" value="ğŸ¦" placeholder="ğŸ¦ Ø£Ùˆ https://..." />
                <small style="display: block; margin-top: 5px; color: #666;">Ø¥ÙŠÙ…ÙˆØ¬ÙŠ Ø£Ùˆ Ø±Ø§Ø¨Ø· ØµÙˆØ±Ø© Ù…Ø¨Ø§Ø´Ø± (50x50 Ø¨ÙƒØ³Ù„ Ù…Ø«Ø§Ù„ÙŠ)</small>
            </div>
            <div class="form-group">
                <label>Ø±Ø§Ø¨Ø· Ø§Ù„Ø­Ø³Ø§Ø¨</label>
                <input type="text" id="twitter" value="https://twitter.com/SalamHam" />
            </div>
            <div class="form-group">
                <label>Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…</label>
                <input type="text" id="twitter_username" value="@SalamHam" />
            </div>
            
            <button class="save-btn" onclick="saveSocialLinks()">Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª</button>
            <button class="save-btn" onclick="publishToGitHub()" style="background: linear-gradient(135deg, #2ed573 0%, #1e8449 100%);">Publish to Website</button>
        </div>

        <!-- Guestbook Tab -->
        <div class="tab-content" id="guestbook">
            <h2>Ø¥Ø¯Ø§Ø±Ø© Ø¨ØµÙ…Ø§Øª Ø§Ù„Ø²ÙˆØ§Ø±</h2>
            <p style="margin-bottom: 20px; color: #666;">
                Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ Ù…Ø­ÙÙˆØ¸Ø© ÙÙŠ Firebase - ÙŠØªÙ… Ø§Ù„ØªØ­Ø¯ÙŠØ« ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
            </p>
            
            <button onclick="loadCommentsFromFirebase()" class="save-btn" style="margin-bottom: 20px; background: #667eea;">ğŸ”„ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø±Ø³Ø§Ø¦Ù„</button>
            
            <div id="commentsContainer" style="max-height: 600px; overflow-y: auto;">
                <!-- Comments will be loaded here -->
            </div>
        </div>

    </div>

    <script>

        // ØªØ¹Ø±ÙŠÙ Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø© ÙÙ‚Ø· ÙÙŠ Ø§Ù„Ø£Ø¹Ù„Ù‰

                function renderOldWorks() {
                    const container = document.getElementById('oldWorksList');
                    if (!container) return;
                    container.innerHTML = '';
                    siteData.oldWorks.forEach((work, index) => {
                        const div = document.createElement('div');
                        div.className = 'item-card';
                        div.innerHTML = `
                            <h3>${work.title}</h3>
                            <p>${work.description || ''}</p>
                            <button class="delete-btn" onclick="deleteOldWork(${index})">Ø­Ø°Ù</button>
                        `;
                        container.appendChild(div);
                    });
                }

                function addOldWork() {
                    const title = prompt('Ø§Ø³Ù… Ø§Ù„Ø¹Ù…Ù„ Ø£Ùˆ Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø§Ù„Ù‚Ø¯ÙŠÙ…:');
                    if (!title) return;
                    const description = prompt('ÙˆØµÙ Ù…Ø®ØªØµØ± (Ø§Ø®ØªÙŠØ§Ø±ÙŠ):');
                    siteData.oldWorks.push({ title, description });
                    localStorage.setItem('siteData', JSON.stringify(siteData));
                    renderOldWorks();
                    exportWebsite();
                }

                function deleteOldWork(index) {
                    if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ø¹Ù…Ù„ØŸ')) {
                        siteData.oldWorks.splice(index, 1);
                        localStorage.setItem('siteData', JSON.stringify(siteData));
                        renderOldWorks();
                        exportWebsite();
                    }
                }
        // Password (ÙŠÙ…ÙƒÙ† ØªØºÙŠÙŠØ±Ù‡ Ù…Ù† Ù‡Ù†Ø§)
        const ADMIN_PASSWORD = 'salam2025';
        
        // GitHub Configuration
        let GITHUB_TOKEN = '';
        const REPO_OWNER = 'yaseenyaseen123';
        const REPO_NAME = 'slam';
        const FILE_PATH = 'index.html';
        
        // Data Storage
        let siteData = {
            basic: {
                name: 'Ø³Ù„Ø§Ù… Ø­Ù…ÙˆØ¯',
                subtitle: 'Ø§Ù„Ø¥Ø¹Ù„Ø§Ù…ÙŠØ© Ø§Ù„Ù‚Ø¯ÙŠØ±Ø© | Ù…Ø°ÙŠØ¹Ø© ÙˆÙ…Ø¹Ø¯Ø© Ø¨Ø±Ø§Ù…Ø¬',
                description: 'Ø®Ø¨Ø±Ø© ØªØ²ÙŠØ¯ Ø¹Ù† 15 Ø¹Ø§Ù…Ù‹Ø§ ÙÙŠ Ù…Ø¬Ø§Ù„ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù…ØŒ Ù…ØªØ®ØµØµØ© ÙÙŠ ÙÙ† Ø§Ù„Ø¥Ù„Ù‚Ø§Ø¡ ÙˆØ§Ù„Ø®Ø·Ø§Ø¨Ø© ÙˆØ§Ù„ØªØ¹Ù„ÙŠÙ‚ Ø§Ù„ØµÙˆØªÙŠ ÙˆØ§Ù„Ø¨ÙˆØ¯ÙƒØ§Ø³Øª.',
                profileImage: 'profile_image_new.jpg'
            },
            infoCards: [
                {
                    icon: 'ğŸ‘¤',
                    title: 'Ù…Ù† Ù‡ÙŠ Ø³Ù„Ø§Ù… Ø­Ù…Ù‘ÙˆØ¯ØŸ',
                    content: 'Ø³Ù„Ø§Ù… Ø­Ù…Ù‘ÙˆØ¯ Ø¥Ø¹Ù„Ø§Ù…ÙŠØ© Ù„Ø¨Ù†Ø§Ù†ÙŠØ©ØŒ ÙˆÙÙ„Ø¯Øª ÙÙŠ Ù„Ø¨Ù†Ø§Ù† ÙˆÙ†Ø´Ø£Øª ÙÙŠ Ø¨ÙŠØ¦Ø© Ø´Ø¬Ù‘Ø¹Øª Ø´ØºÙÙ‡Ø§ Ø§Ù„Ù…Ø¨ÙƒØ± Ø¨Ø§Ù„ÙƒÙ„Ù…Ø© ÙˆØ§Ù„ØµÙˆØª ÙˆØ§Ù„ØµÙˆØ±Ø©. Ù…Ù†Ø° Ù†Ø¹ÙˆÙ…Ø© Ø£Ø¸Ø§ÙØ±Ù‡Ø§ØŒ ÙƒØ§Ù†Øª ØªÙ…ØªÙ„Ùƒ Ù…ÙŠÙˆÙ„Ù‹Ø§ ÙˆØ§Ø¶Ø­Ø© Ù„Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹ Ø§Ù„Ù†Ø§Ø³ØŒ ÙˆØ§Ù‡ØªÙ…Ø§Ù…Ù‹Ø§ Ø¨Ø§Ù„ØºÙ‹Ø§ Ø¨Ø¹Ø§Ù„Ù… Ø§Ù„Ø¥Ø¹Ù„Ø§Ù…. ÙƒØ§Ù†Øª Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§ ÙˆØ§Ù„Ù…ÙŠÙƒØ±ÙˆÙÙˆÙ† Ø±ÙÙŠÙ‚ÙŠ Ø·ÙÙˆÙ„ØªÙ‡Ø§ØŒ Ù„ØªØµØ¨Ø­ ÙÙŠÙ…Ø§ Ø¨Ø¹Ø¯ Ø£Ø¯ÙˆØ§ØªÙ‡Ø§ Ø§Ù„ÙŠÙˆÙ…ÙŠØ© ÙÙŠ Ø§Ù„ØªØ£Ø«ÙŠØ± ÙˆØ§Ù„Ø¥Ù„Ù‡Ø§Ù….'
                },
                {
                    icon: 'ğŸ“',
                    title: 'Ø§Ù„Ù…Ø³ÙŠØ±Ø© Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ©',
                    content: 'Ø¯Ø±Ø³Øª Ø³Ù„Ø§Ù… Ø­Ù…Ù‘ÙˆØ¯ Ø§Ù„ØªØ³ÙˆÙŠÙ‚ ÙˆØ§Ù„Ø¹Ù„Ø§Ù‚Ø§Øª Ø§Ù„Ø¹Ø§Ù…Ø©ØŒ ÙˆÙ‡Ùˆ Ù…Ø§ ÙˆÙÙ‘Ø± Ù„Ù‡Ø§ Ù‚Ø§Ø¹Ø¯Ø© Ù‚ÙˆÙŠØ© Ù„ÙÙ‡Ù… Ø§Ù„Ø¬Ù…Ù‡ÙˆØ± ÙˆØ§Ù„ØªØ£Ø«ÙŠØ± ÙÙŠÙ‡ØŒ Ø¥Ù„Ø§ Ø£Ù† Ø´ØºÙÙ‡Ø§ Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠ Ø¸Ù„ Ù…Ø±ØªØ¨Ø·Ù‹Ø§ Ø¨Ø§Ù„Ø¥Ø¹Ù„Ø§Ù… ÙˆØµÙ†Ø§Ø¹Ø© Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„ØµÙˆØªÙŠ ÙˆØ§Ù„Ù…Ø±Ø¦ÙŠ. Ø¬Ù…Ø¹Øª Ø¨ÙŠÙ† Ø§Ù„Ø¯Ø±Ø§Ø³Ø© Ø§Ù„Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ© ÙˆØ§Ù„Ù…ÙˆÙ‡Ø¨Ø© Ø§Ù„Ø·Ø¨ÙŠØ¹ÙŠØ©ØŒ ÙÙƒÙˆÙ‘Ù†Øª Ø´Ø®ØµÙŠØ© Ø¥Ø¹Ù„Ø§Ù…ÙŠØ© Ù…ØªÙƒØ§Ù…Ù„Ø© Ù‚Ø§Ø¯Ø±Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø­Ø¶ÙˆØ± ÙˆØ§Ù„ØªØ£Ø«ÙŠØ±.'
                },
                {
                    icon: 'ğŸ™ï¸',
                    title: 'Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„Ø·Ø±ÙŠÙ‚ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù…ÙŠ',
                    content: 'Ø¨Ø¯Ø£Øª Ø³Ù„Ø§Ù… Ø­Ù…Ù‘ÙˆØ¯ Ù…Ø³ÙŠØ±ØªÙ‡Ø§ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù…ÙŠØ© ÙÙŠ Ù„Ø¨Ù†Ø§Ù†ØŒ Ø«Ù… Ø§Ù†ØªÙ‚Ù„Øª Ù„Ù„Ø¹Ù…Ù„ ÙÙŠ Ø¹Ø¯Ø¯ Ù…Ù† Ø¯ÙˆÙ„ Ø§Ù„Ø®Ù„ÙŠØ¬ Ù…Ø«Ù„ Ø§Ù„ÙƒÙˆÙŠØªØŒ Ø­ØªÙ‰ Ø§Ø³ØªÙ‚Ø±Ù‘Øª ÙÙŠ Ø§Ù„Ø¥Ù…Ø§Ø±Ø§Øª Ø¹Ø§Ù… 2008ØŒ Ø­ÙŠØ« Ø§Ù†Ø¶Ù…Ù‘Øª Ø¥Ù„Ù‰ Ù…Ø¤Ø³Ø³Ø© Ø§Ù„Ø±Ø§Ø¨Ø¹Ø© Ø§Ù„ØªÙŠ ØªØ¶Ù… Ø¥Ø°Ø§Ø¹Ø© Ø§Ù„Ø±Ø§Ø¨Ø¹Ø© ÙˆØªÙ„ÙØ²ÙŠÙˆÙ† Ø¹Ø¬Ù…Ø§Ù†. Ø£Ø«Ø¨ØªØª Ø­Ø¶ÙˆØ±Ù‡Ø§ Ø¨ØµÙˆØªÙ‡Ø§ Ø§Ù„ÙˆØ§Ø«Ù‚ ÙˆØ£Ø³Ù„ÙˆØ¨Ù‡Ø§ Ø§Ù„Ø¹ÙÙˆÙŠØŒ ÙˆÙ‚Ø¯Ù‘Ù…Øª Ù…Ø­ØªÙˆÙ‰ Ù…ØªÙ†ÙˆØ¹Ù‹Ø§ ÙŠØ¬Ù…Ø¹ Ø¨ÙŠÙ† Ø§Ù„Ø«Ù‚Ø§ÙØ© ÙˆØ§Ù„ØªØ±ÙÙŠÙ‡ ÙˆØ§Ù„ØªÙ†Ù…ÙŠØ© Ø§Ù„Ø¨Ø´Ø±ÙŠØ©ØŒ Ù…Ù† Ø£Ø¨Ø±Ø² Ø¨Ø±Ø§Ù…Ø¬Ù‡Ø§ Ø§Ù„ØªÙ„ÙØ²ÙŠÙˆÙ†ÙŠØ© Ø¨Ø±Ù†Ø§Ù…Ø¬ "ØµØ­Ø© ÙˆØ­ÙŠØ§Ø©".'
                },
                {
                    icon: 'ğŸ’«',
                    title: 'Ø±Ø³Ø§Ù„ØªÙ‡Ø§',
                    content: 'ØªØ±Ù‰ Ø³Ù„Ø§Ù… Ø­Ù…Ù‘ÙˆØ¯ Ø£Ù† Ø§Ù„Ù…ÙŠÙƒØ±ÙˆÙÙˆÙ† Ø£Ù…Ø§Ù†Ø©ØŒ ÙˆØ£Ù† Ø§Ù„Ø¥Ø¹Ù„Ø§Ù… Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠ Ù‡Ùˆ Ø§Ù„Ø°ÙŠ ÙŠÙØ­Ø¯ÙØ« ÙØ±Ù‚Ù‹Ø§ ÙÙŠ Ø­ÙŠØ§Ø© Ø§Ù„Ø¢Ø®Ø±ÙŠÙ†. ØªØ­Ù…Ù„ Ø±Ø³Ø§Ù„Ø© Ù…ÙØ§Ø¯Ù‡Ø§ Ø£Ù† Ø§Ù„ØµÙˆØª Ø§Ù„ØµØ§Ø¯Ù‚ ÙˆØ§Ù„ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„Ø© Ù‚Ø§Ø¯Ø±Ø© Ø¹Ù„Ù‰ Ø¨Ù†Ø§Ø¡ ÙˆØ¹ÙŠ ÙˆØ¥Ù„Ù‡Ø§Ù… Ø¬Ù…Ù‡ÙˆØ± ÙˆØ§Ø³Ø¹. ØªØ³Ø¹Ù‰ Ø¹Ø¨Ø± Ø£Ø¹Ù…Ø§Ù„Ù‡Ø§ ÙˆØ¨Ø±Ø§Ù…Ø¬Ù‡Ø§ Ø§Ù„ØªØ¯Ø±ÙŠØ¨ÙŠØ© Ø¥Ù„Ù‰ ØªÙ…ÙƒÙŠÙ† Ø§Ù„Ø´Ø¨Ø§Ø¨ ÙˆØ§Ù„Ø´Ø§Ø¨Ø§Øª Ù…Ù† ØªØ·ÙˆÙŠØ± Ø°ÙˆØ§ØªÙ‡Ù…ØŒ ÙˆØªØ­Ù‚ÙŠÙ‚ Ø£Ø­Ù„Ø§Ù…Ù‡Ù…ØŒ ÙˆÙ…ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„ØªØ­Ø¯ÙŠØ§Øª Ø¨Ø«Ù‚Ø© ÙˆØ´Ø¬Ø§Ø¹Ø©.'
                }
            ],
            programs: [
                {
                    title: 'Ø¹Ø§Ù„Ø·Ø±ÙŠÙ‚ Ù…Ø¹ Ø³Ù„Ø§Ù…',
                    description: 'Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø­ÙˆØ§Ø±ÙŠ Ù…Ø³Ø§Ø¦ÙŠ ØªØ±ÙÙŠÙ‡ÙŠ ÙŠØªÙ†Ø§ÙˆÙ„ Ù‚Ø¶Ø§ÙŠØ§ Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ© ÙˆØ«Ù‚Ø§ÙÙŠØ© Ù…ØªÙ†ÙˆØ¹Ø©ØŒ ÙˆÙŠØ³ØªØ¶ÙŠÙ Ø´Ø®ØµÙŠØ§Øª Ù…Ø¤Ø«Ø±Ø© Ù…Ù† Ù…Ø®ØªÙ„Ù Ø§Ù„Ù…Ø¬Ø§Ù„Ø§Øª Ø¹Ù„Ù‰ Ø±Ø§Ø¯ÙŠÙˆ Ø§Ù„Ø±Ø§Ø¨Ø¹Ø© 107.8 FM',
                    note: 'ÙŠÙˆÙ…ÙŠØ§ Ø¹Ù„Ù‰ Ø±Ø§Ø¯ÙŠÙˆ Ø§Ù„Ø±Ø§Ø¨Ø¹Ù‡'
                },
                {
                    title: 'Ø¨ÙˆØ¯ÙƒØ§Ø³Øª Ù…Ø¹ Ø³Ù„Ø§Ù…',
                    description: 'Ø¨ÙˆØ¯ÙƒØ§Ø³Øª Ø­ÙˆØ§Ø±ÙŠ Ø¹Ù„Ù‰ Ù…Ù†ØµØ§Øª Ù…ØªØ¹Ø¯Ø¯Ø©',
                    note: ''
                }
            ],
            gallery: [
                'salam_hammoud.jpg',
                'salam_new_img1.jpg',
                'salam_new_img2.jpg',
                'salam_new_img3.jpg',
                'salam_new_img4.jpg',
                'salam_new_img5.jpg',
                'salam_new_img6.jpg',
                'salam_new_img7.jpg'
            ],
            videos: [
                {
                    id: 'M9tQ0yM9sLY',
                    title: 'Ø§Ù„Ø¥Ù†Ø³Ø§Ù† Ù…Ù‚ÙŠØ¯ Ø£Ù… Ø­Ø±ØŸ',
                    description: 'Ù†Ù‚Ø§Ø´ ÙÙ„Ø³ÙÙŠ Ø¹Ù…ÙŠÙ‚ Ø­ÙˆÙ„ Ø§Ù„Ø­Ø±ÙŠØ© ÙˆØ§Ù„Ù‚ÙŠÙˆØ¯ ÙÙŠ Ø­ÙŠØ§Ø© Ø§Ù„Ø¥Ù†Ø³Ø§Ù†'
                },
                {
                    id: '8Z9SuAR7QJw',
                    title: 'Ø¨ÙˆØ¯ÙƒØ§Ø³Øª Ù…Ø¹ Ø³Ù„Ø§Ù… - Ø§Ø®ØªØ±Øª Ø§Ù„Ø´Ù‡Ø±Ø© ÙˆØ§Ù„Ø­Ø±ÙŠØ© Ø¹Ù„Ù‰ Ø§Ù„ØªØ¹Ù„ÙŠÙ…',
                    description: 'Ø­ÙˆØ§Ø± Ù…Ø¹ Ø§Ù„Ø¯ÙƒØªÙˆØ±Ø© Ø¬Ù†Ù‰ Ø¨Ùˆ Ø±Ø³Ù„Ø§Ù† Ø­ÙˆÙ„ Ø§Ù„Ù‚Ø¶Ø§ÙŠØ§ Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ©'
                },
                {
                    id: '83B6pgx2He4',
                    title: 'Ù„Ù‡Ø°Ø§ Ø§Ù„Ø³Ø¨Ø¨ Ù‚Ø±Ø±Øª Ø£Ù„Ø§ Ø£Ø¹Ù…Ù„ ÙƒÙ…ÙˆØ¸Ù - Ø±ÙŠÙƒØ§Ø±Ø¯Ùˆ ÙƒØ±Ù…',
                    description: 'Ø­ÙˆØ§Ø± Ù…Ù„Ù‡Ù… Ù…Ø¹ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù…ÙŠ Ø±ÙŠÙƒØ§Ø±Ø¯Ùˆ ÙƒØ±Ù… Ø­ÙˆÙ„ Ø±ÙŠØ§Ø¯Ø© Ø§Ù„Ø£Ø¹Ù…Ø§Ù„'
                },
                {
                    id: 'tPvmdtjuK1w',
                    title: 'Ù„Ù‚Ø§Ø¡ Ù…Ø­Ù…Ø¯ Ø¹Ø³Ø§Ù Ù…Ø¹ Ø³Ù„Ø§Ù… Ø­Ù…ÙˆØ¯',
                    description: 'Ù„Ù‚Ø§Ø¡ ØªØ§Ø±ÙŠØ®ÙŠ Ù…Ø¹ Ø§Ù„ÙÙ†Ø§Ù† Ù…Ø­Ù…Ø¯ Ø¹Ø³Ø§Ù Ø¹Ù„Ù‰ Ø±Ø§Ø¯ÙŠÙˆ Ø§Ù„Ø±Ø§Ø¨Ø¹Ø© ÙˆØªÙ„ÙØ²ÙŠÙˆÙ† Ø¹Ø¬Ù…Ø§Ù† Ø¹Ø§Ù… 2014'
                },
                {
                    id: 'EKf7Ar7hTN4',
                    title: 'Ø³Ù„Ø§Ù… Ø­Ù…ÙˆØ¯ Ø¶ÙŠÙØ© Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø³ÙŠÙ„ÙÙŠ',
                    description: 'Ø¸Ù‡ÙˆØ± Ø³Ù„Ø§Ù… Ø­Ù…ÙˆØ¯ ÙÙŠ Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø³ÙŠÙ„ÙÙŠ Ø¹Ù„Ù‰ Ù‚Ù†Ø§Ø© Ø§Ù„Ø¸ÙØ±Ø© - ÙÙ‚Ø±Ø© Ø§Ù„Ù…Ø­Ø¨Ø© ÙˆØ§Ù„ØªØ³Ø§Ù…Ø­'
                },
                {
                    id: 'yqH2S06nmJw',
                    title: 'Ø¹Ù… ØªØ­ÙƒÙŠ ÙˆØªØªØ­Ø±Ùƒ ÙƒØªÙŠØ±ØŸ Ù„Ø­Ø¸Ø©.. Ø§Ù„ØªÙˆÙ‚Ù Ø£Ø­ÙŠØ§Ù†Ù‹Ø§ Ø£Ù‚ÙˆÙ‰ Ù…Ù† Ø§Ù„Ø­Ø±ÙƒØ©',
                    description: 'Ù†ØµØ§Ø¦Ø­ Ù‚ÙŠÙ…Ø© Ø­ÙˆÙ„ Ø£Ù‡Ù…ÙŠØ© Ø§Ù„ØªÙˆÙ‚Ù ÙˆØ§Ù„ØªØ£Ù…Ù„ ÙÙŠ Ø§Ù„Ø­ÙŠØ§Ø©'
                },
                {
                    id: 'nKDqPWle6pE',
                    title: 'Ø§Ù„Ø­Ù‚ÙŠÙ‚Ø© Ø§Ù„Ù‚Ø§Ø³ÙŠØ©ØŸ Ù…Ø§ Ø­Ø¯Ø§ Ù…Ù‡ØªÙ… ÙÙŠÙƒ',
                    description: 'ÙÙŠØ¯ÙŠÙˆ Ù‚ØµÙŠØ± Ø­ÙˆÙ„ ÙÙ† Ø§Ù„Ø®Ø·Ø§Ø¨Ø© ÙˆØ§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹ Ø§Ù„Ø¬Ù…Ù‡ÙˆØ±'
                },
                {
                    id: 'hLCYcLwprQI',
                    title: 'Ø§Ù„ÙÙ†Ø§Ù†Ø© Ø¨Ø§Ø³ÙƒØ§Ù„ Ù…Ø´Ø¹Ù„Ø§Ù†ÙŠ Ù…Ø¹ Ø³Ù„Ø§Ù… Ø­Ù…ÙˆØ¯',
                    description: 'Ù„Ù‚Ø§Ø¡ Ù…Ø¨Ø§Ø´Ø± Ø¹Ø¨Ø± Ø§Ù†Ø³ØªÙ‚Ø±Ø§Ù… Ø±Ø§Ø¯ÙŠÙˆ Ø§Ù„Ø±Ø§Ø¨Ø¹Ø© Ù…Ø¹ Ø§Ù„ÙÙ†Ø§Ù†Ø© Ø¨Ø§Ø³ÙƒØ§Ù„ Ù…Ø´Ø¹Ù„Ø§Ù†ÙŠ'
                }
            ],
            social: {
                instagram: 'https://instagram.com/salam_hammoud',
                tiktok: 'https://www.tiktok.com/@salam_hammoud',
                youtube: 'https://youtube.com/@salamhammoud9',
                facebook: 'https://facebook.com/Salam.Hammoud.Anchor',
                twitter: 'https://twitter.com/SalamHam'
            }
        };

        // Load saved data

        async function loadData() {
            try {
                const res = await fetch('https://raw.githubusercontent.com/yaseenyaseen123/slam/main/comments.json');
                if (res.ok) {
                    const data = await res.json();
                    if (data && typeof data === 'object' && Object.keys(data).length > 0) {
                        siteData = data;
                        localStorage.setItem('siteData', JSON.stringify(siteData));
                    }
                }
            } catch (e) {
                // Ø¥Ø°Ø§ ÙØ´Ù„ Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ù…Ù† GitHub Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† localStorage
                const saved = localStorage.getItem('siteData');
                if (saved) {
                    siteData = JSON.parse(saved);
                }
            }
            populateFields();
            renderInfoCards();
            renderGallery();
            renderVideos();
            renderPrograms();
            renderOldWorks();
        }

        function populateFields() {
            document.getElementById('name').value = siteData.basic.name;
            document.getElementById('subtitle').value = siteData.basic.subtitle;
            document.getElementById('description').value = siteData.basic.description;
            document.getElementById('profileImage').value = siteData.basic.profileImage;
            document.getElementById('backgroundImage').value = siteData.basic.backgroundImage || 'new_background.png';
            document.getElementById('backgroundAudio').value = siteData.basic.backgroundAudio || '';
            
            // Social links
            document.getElementById('instagram').value = siteData.social.instagram;
            document.getElementById('tiktok').value = siteData.social.tiktok;
            document.getElementById('youtube').value = siteData.social.youtube;
            document.getElementById('facebook').value = siteData.social.facebook;
            document.getElementById('twitter').value = siteData.social.twitter;
            
            // Social icons (with defaults)
            document.getElementById('instagram_icon').value = siteData.social.instagram_icon || 'ğŸ“·';
            document.getElementById('tiktok_icon').value = siteData.social.tiktok_icon || 'ğŸµ';
            document.getElementById('youtube_icon').value = siteData.social.youtube_icon || 'â–¶ï¸';
            document.getElementById('facebook_icon').value = siteData.social.facebook_icon || 'ğŸ‘¥';
            document.getElementById('twitter_icon').value = siteData.social.twitter_icon || 'ğŸ¦';
            
            // Social usernames (with defaults)
            document.getElementById('instagram_username').value = siteData.social.instagram_username || '@salam_hammoud';
            document.getElementById('tiktok_username').value = siteData.social.tiktok_username || '@salam_hammoud';
            document.getElementById('youtube_username').value = siteData.social.youtube_username || 'Salam Hammoud';
            document.getElementById('facebook_username').value = siteData.social.facebook_username || 'Salam Hammoud';
            document.getElementById('twitter_username').value = siteData.social.twitter_username || '@SalamHam';
        }

        // Render Gallery
        function renderGallery() {
            const container = document.getElementById('galleryList');
            container.innerHTML = '';
            siteData.gallery.forEach((img, index) => {
                container.innerHTML += `
                    <div class="item-card">
                        <img src="${img}" alt="ØµÙˆØ±Ø© ${index + 1}">
                        <button class="delete-btn" onclick="deleteGalleryImage(${index})">Ø­Ø°Ù</button>
                        <p style="margin-top: 10px; font-size: 14px;">${img}</p>
                    </div>
                `;
            });
        }

        // Render Videos
        function renderVideos() {
            const container = document.getElementById('videosList');
            container.innerHTML = '';
            siteData.videos.forEach((video, index) => {
                container.innerHTML += `
                    <div class="item-card">
                        <img src="https://img.youtube.com/vi/${video.id}/mqdefault.jpg" alt="${video.title}">
                        <button class="delete-btn" onclick="deleteVideo(${index})">Ø­Ø°Ù</button>
                        <h4 style="margin-top: 10px;">${video.title}</h4>
                        <p style="font-size: 13px; color: #666; margin-top: 5px;">${video.description}</p>
                        <button class="save-btn" style="margin-top: 10px; padding: 8px 15px; font-size: 14px;" onclick="editVideo(${index})">ØªØ¹Ø¯ÙŠÙ„</button>
                    </div>
                `;
            });
        }

        // Render Programs
        function renderPrograms() {
            const container = document.getElementById('programsList');
            container.innerHTML = '';
            siteData.programs.forEach((program, index) => {
                container.innerHTML += `
                    <div class="item-card">
                        <button class="delete-btn" onclick="deleteProgram(${index})">Ø­Ø°Ù</button>
                        <h3 style="margin-bottom: 10px;">${program.title}</h3>
                        <p style="font-size: 14px; line-height: 1.6; margin-bottom: 10px;">${program.description}</p>
                        <p style="font-size: 13px; color: #666;">${program.note}</p>
                        <button class="save-btn" style="margin-top: 10px; padding: 8px 15px; font-size: 14px;" onclick="editProgram(${index})">ØªØ¹Ø¯ÙŠÙ„</button>
                    </div>
                `;
            });
        }

        // Render Info Cards
        function renderInfoCards() {
            const container = document.getElementById('infoCardsList');
            if (!container) return;
            container.innerHTML = '';
            siteData.infoCards.forEach((card, index) => {
                const preview = card.content.length > 150 ? card.content.substring(0, 150) + '...' : card.content;
                container.innerHTML += `
                    <div class="item-card">
                        <button class="delete-btn" onclick="deleteInfoCard(${index})">Ø­Ø°Ù</button>
                        <h3 style="margin-bottom: 10px;">${card.icon} ${card.title}</h3>
                        <p style="font-size: 14px; line-height: 1.6; margin-bottom: 10px;">${preview}</p>
                        <button class="save-btn" style="margin-top: 10px; padding: 8px 15px; font-size: 14px;" onclick="editInfoCard(${index})">ØªØ¹Ø¯ÙŠÙ„</button>
                    </div>
                `;
            });
        }

        // Login
        function login() {
            const password = document.getElementById('password').value;
            if (password === ADMIN_PASSWORD) {
                document.getElementById('loginContainer').style.display = 'none';
                document.getElementById('adminPanel').style.display = 'block';
                localStorage.setItem('adminLoggedIn', 'true');
                loadData();
            } else {
                alert('ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± ØµØ­ÙŠØ­Ø©');
            }
        }

        function logout() {
            localStorage.removeItem('adminLoggedIn');
            location.reload();
        }

        // Check if already logged in

        if (localStorage.getItem('adminLoggedIn') === 'true') {
            document.getElementById('loginContainer').style.display = 'none';
            document.getElementById('adminPanel').style.display = 'block';
            GITHUB_TOKEN = localStorage.getItem('githubToken') || '';
            loadDataWithNotice();
        }

        // Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ ØªÙ„Ù‚Ø§Ø¦ÙŠ Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø© Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù…Ø³Ø¬Ù„Ø§Ù‹
        window.addEventListener('DOMContentLoaded', function() {
            if (localStorage.getItem('adminLoggedIn') === 'true') {
                loadDataWithNotice();
            }
        });

        // Ø¯Ø§Ù„Ø© ØªØ­Ù…ÙŠÙ„ Ù…Ø¹ Ø±Ø³Ø§Ø¦Ù„ ØªÙˆØ¶ÙŠØ­ÙŠØ©
        async function loadDataWithNotice() {
            try {
                await loadData();
            } catch (e) {
                alert('ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ù…Ù† GitHub: ' + (e.message || e));
            }
        }

        // Save GitHub Token
        function saveToken() {
            const tokenInput = document.getElementById('githubToken').value;
            // Clean token - remove any non-ASCII characters
            const cleanToken = tokenInput.replace(/[^\x00-\x7F]/g, '').trim();
            
            if (cleanToken && cleanToken.length >= 20) {
                GITHUB_TOKEN = cleanToken;
                localStorage.setItem('githubToken', cleanToken);
                showSuccess();
            } else {
                alert('Invalid token. Please enter a valid GitHub token.');
            }
        }

        // Tab switching
        function showTab(tabName) {
            document.querySelectorAll('.tab-content').forEach(tab => tab.classList.remove('active'));
            document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
            
            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');
            
            // Load comments when guestbook tab is shown
            if (tabName === 'guestbook') {
                loadComments();
            }
        }

        // Save functions
        function saveBasicInfo() {
            siteData.basic.name = document.getElementById('name').value;
            siteData.basic.subtitle = document.getElementById('subtitle').value;
            siteData.basic.description = document.getElementById('description').value;
            siteData.basic.profileImage = document.getElementById('profileImage').value;
            siteData.basic.backgroundImage = document.getElementById('backgroundImage').value;
            
            // Convert Vocaroo URL to direct link
            let audioUrl = document.getElementById('backgroundAudio').value.trim();
            if (audioUrl) {
                audioUrl = convertVocarooToDirect(audioUrl);
            }
            siteData.basic.backgroundAudio = audioUrl;
            
            localStorage.setItem('siteData', JSON.stringify(siteData));
            autoPublishAfterSave();
        }
        
        // Convert Vocaroo URL to direct MP3 link
        function convertVocarooToDirect(url) {
            // Check if it's a Vocaroo URL
            const vocarooMatch = url.match(/voca\.ro\/([a-zA-Z0-9]+)/);
            if (vocarooMatch) {
                const id = vocarooMatch[1];
                return `https://media1.vocaroo.com/mp3/${id}.mp3`;
            }
            
            // Check if already a direct Vocaroo media link
            if (url.includes('vocaroo.com/mp3/')) {
                return url;
            }
            
            // Return as-is if not Vocaroo
            return url;
        }

        function saveSocialLinks() {
            siteData.social.instagram = document.getElementById('instagram').value;
            siteData.social.tiktok = document.getElementById('tiktok').value;
            siteData.social.youtube = document.getElementById('youtube').value;
            siteData.social.facebook = document.getElementById('facebook').value;
            siteData.social.twitter = document.getElementById('twitter').value;
            
            // Save icons
            siteData.social.instagram_icon = document.getElementById('instagram_icon').value;
            siteData.social.tiktok_icon = document.getElementById('tiktok_icon').value;
            siteData.social.youtube_icon = document.getElementById('youtube_icon').value;
            siteData.social.facebook_icon = document.getElementById('facebook_icon').value;
            siteData.social.twitter_icon = document.getElementById('twitter_icon').value;
            
            // Save usernames
            siteData.social.instagram_username = document.getElementById('instagram_username').value;
            siteData.social.tiktok_username = document.getElementById('tiktok_username').value;
            siteData.social.youtube_username = document.getElementById('youtube_username').value;
            siteData.social.facebook_username = document.getElementById('facebook_username').value;
            siteData.social.twitter_username = document.getElementById('twitter_username').value;
            
            localStorage.setItem('siteData', JSON.stringify(siteData));
            autoPublishAfterSave();
        }

        function showSuccess() {
            const msg = document.getElementById('successMsg');
            msg.style.display = 'block';
            setTimeout(() => msg.style.display = 'none', 3000);
        }

        // Export website
        async function exportWebsite() {
            // ØªØ­Ù…ÙŠÙ„ Ø¢Ø®Ø± Ù†Ø³Ø®Ø© Ù…Ù† siteData Ù…Ù† localStorage Ù‚Ø¨Ù„ Ø§Ù„Ù†Ø´Ø±
            let latestSiteData = siteData;
            try {
                const saved = localStorage.getItem('siteData');
                if (saved) {
                    latestSiteData = JSON.parse(saved);
                }
            } catch (e) { /* ØªØ¬Ø§Ù‡Ù„ Ø£ÙŠ Ø®Ø·Ø£ */ }
            const html = generateHTML();
            const blob = new Blob([html], { type: 'text/html' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            try {
                // Ø·Ø¨Ø§Ø¹Ø© Ù…Ø­ØªÙˆÙ‰ latestSiteData Ù‚Ø¨Ù„ Ø§Ù„Ù†Ø´Ø±
                console.log('siteData to be published:', latestSiteData);
                const content = btoa(unescape(encodeURIComponent(JSON.stringify(latestSiteData, null, 2))));
                // Ø¬Ù„Ø¨ sha Ø§Ù„Ø­Ø§Ù„ÙŠ Ù„Ù„Ù…Ù„Ù
                const getHeaders = new Headers();
                getHeaders.append('Authorization', 'token ' + GITHUB_TOKEN);
                getHeaders.append('Accept', 'application/vnd.github.v3+json');
                const getResponse = await fetch('https://api.github.com/repos/yaseenyaseen123/slam/contents/comments.json?ref=main', { headers: getHeaders });
                let sha = '';
                if (getResponse.ok) {
                    const fileData = await getResponse.json();
                    sha = fileData.sha;
                }
                // Ø±ÙØ¹ Ø§Ù„ØªØ­Ø¯ÙŠØ«
                const updateHeaders = new Headers();
                updateHeaders.append('Authorization', 'token ' + GITHUB_TOKEN);
                updateHeaders.append('Accept', 'application/vnd.github.v3+json');
                updateHeaders.append('Content-Type', 'application/json');
                const updateResponse = await fetch('https://api.github.com/repos/yaseenyaseen123/slam/contents/comments.json', {
                    method: 'PUT',
                    headers: updateHeaders,
                    body: JSON.stringify({
                        message: 'ØªØ­Ø¯ÙŠØ« Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ù…Ù† Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…',
                        content: content,
                        sha: sha,
                        branch: 'main'
                    })
                });
                const updateResult = await updateResponse.json();
                if (!updateResponse.ok) {
                    console.error('GitHub update error:', updateResult);
                    alert('ÙØ´Ù„ Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙÙŠ GitHub!\n' + (updateResult.message || JSON.stringify(updateResult)));
                } else {
                    console.log('GitHub update success:', updateResult);
                }
            } catch (e) {
                console.error('GitHub publish exception:', e);
                alert('Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙÙŠ GitHub: ' + (e.message || e));
            }
            try {
                const statusMsg = document.getElementById('successMsg');
                statusMsg.innerHTML = 'Preparing updates...';
                statusMsg.style.display = 'block';
                statusMsg.style.background = '#ffa502';
                logMsg('ğŸ”„ Ø¨Ø¯Ø¡ Ø¹Ù…Ù„ÙŠØ© Ø§Ù„Ù†Ø´Ø±...');

                // First, fetch the current index.html to use as template
                const templateResponse = await fetch(
                    'https://raw.githubusercontent.com/' + REPO_OWNER + '/' + REPO_NAME + '/main/index.html'
                );
                
                if (!templateResponse.ok) {
                    logMsg('âŒ ÙØ´Ù„ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ù‚Ø§Ù„Ø¨ Ù…Ù† GitHub');
                    throw new Error('Failed to fetch website template from GitHub');
                }
                
                const templateHTML = await templateResponse.text();
                
                // Validate template
                if (!templateHTML || templateHTML.length < 1000) {
                    logMsg('âŒ Ø§Ù„Ù‚Ø§Ù„Ø¨ Ø§Ù„Ù…Ø³ØªØ±Ø¬Ø¹ ØºÙŠØ± ØµØ§Ù„Ø­');
                    throw new Error('Retrieved template is invalid');
                }

                statusMsg.innerHTML = 'Generating updated page...';
                                logMsg('âœ… ØªÙ… Ø¬Ù„Ø¨ Ø§Ù„Ù‚Ø§Ù„Ø¨ Ø¨Ù†Ø¬Ø§Ø­.');
                
                // Generate new HTML based on template and current data
                const newHTML = await generateHTMLFromTemplate(templateHTML);
                                logMsg('âœ… ØªÙ… ØªÙˆÙ„ÙŠØ¯ HTML Ø¬Ø¯ÙŠØ¯.');
                
                // Validate generated HTML
                if (!newHTML || newHTML.length < 1000 || !newHTML.includes('<!DOCTYPE html>')) {
                    logMsg('âŒ ÙØ´Ù„ ÙÙŠ ØªÙˆÙ„ÙŠØ¯ HTML ØµØ§Ù„Ø­.');
                    throw new Error('Failed to generate valid HTML. Generated content is incomplete.');
                }
                
                console.log('Generated HTML length:', newHTML.length);
                console.log('Template HTML length:', templateHTML.length);
                
                // Additional validation: check critical sections exist
                const criticalSections = ['<!DOCTYPE html>', '<body>', '</html>'];
                for (const section of criticalSections) {
                    if (!newHTML.includes(section)) {
                        logMsg(`âŒ Ø§Ù„Ø¬Ø²Ø¡ Ø§Ù„Ù‡Ø§Ù… Ù…ÙÙ‚ÙˆØ¯: ${section}`);
                        throw new Error(`Critical section "${section}" is missing from generated HTML`);
                    }
                }

                const encodedContent = btoa(
                    decodeURIComponent(
                        encodeURIComponent(newHTML)
                    )
                );
                logMsg('âœ… ØªÙ… ØªØ±Ù…ÙŠØ² Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø¨Ù†Ø¬Ø§Ø­.');

                // Update main branch first (with retry logic)
                statusMsg.innerHTML = 'Publishing to main branch...';
                                logMsg('ğŸš€ Ù†Ø´Ø± Ø§Ù„ØªØ¹Ø¯ÙŠÙ„Ø§Øª Ø¹Ù„Ù‰ ÙØ±Ø¹ main...');
                
                let publishSuccess = false;
                let retryCount = 0;
                const maxRetries = 3;
                
                while (!publishSuccess && retryCount < maxRetries) {
                    try {
                        if (retryCount > 0) {
                            statusMsg.innerHTML = 'Retrying... (attempt ' + (retryCount + 1) + ')';
                            logMsg('ğŸ” Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø±Ù‚Ù… ' + (retryCount + 1));
                            await new Promise(resolve => setTimeout(resolve, 1000)); // Wait 1 second
                        }
                        
                        const getHeaders = new Headers();
                        getHeaders.append('Authorization', 'token ' + cleanToken);
                        getHeaders.append('Accept', 'application/vnd.github.v3+json');
                        
                        const getResponse = await fetch(
                            'https://api.github.com/repos/' + REPO_OWNER + '/' + REPO_NAME + '/contents/' + FILE_PATH + '?ref=main',
                            {
                                headers: getHeaders
                            }
                        );
                        
                        if (!getResponse.ok) {
                            const errorData = await getResponse.json();
                            logMsg('âŒ ÙØ´Ù„ ÙÙŠ Ø¬Ù„Ø¨ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ÙØ±Ø¹ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ: ' + (errorData.message || 'Unknown error'));
                            throw new Error('Failed to get main branch info: ' + (errorData.message || 'Unknown error'));
                        }
                        
                        const fileData = await getResponse.json();
                        const sha = fileData.sha;

                        // Update file on main
                        const updateHeaders = new Headers();
                        updateHeaders.append('Authorization', 'token ' + cleanToken);
                        updateHeaders.append('Accept', 'application/vnd.github.v3+json');
                        updateHeaders.append('Content-Type', 'application/json');
                        
                        const updateResponse = await fetch(
                            'https://api.github.com/repos/' + REPO_OWNER + '/' + REPO_NAME + '/contents/' + FILE_PATH,
                            {
                                method: 'PUT',
                                headers: updateHeaders,
                                body: JSON.stringify({
                                    message: 'Update website from admin panel',
                                    content: encodedContent,
                                    sha: sha,
                                    branch: 'main'
                                })
                            }
                        );

                        if (!updateResponse.ok) {
                            const error = await updateResponse.json();
                            logMsg('âŒ ÙØ´Ù„ ÙÙŠ Ø±ÙØ¹ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„Ø§Øª: ' + (error.message || 'Unknown error'));
                            throw new Error('Failed to publish to main: ' + (error.message || 'Unknown error'));
                        }
                        
                        publishSuccess = true;
                                                logMsg('âœ… ØªÙ… Ø±ÙØ¹ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„Ø§Øª Ø¨Ù†Ø¬Ø§Ø­.');
                        console.log('Successfully updated main branch');
                        
                    } catch (error) {
                        retryCount++;
                        if (retryCount >= maxRetries) {
                            throw error;
                        }
                        console.log('Retry attempt ' + retryCount + ' due to: ' + error.message);
                    }
                }
                
                // Now sync master with main
                statusMsg.innerHTML = 'Syncing master branch...';
                                logMsg('ğŸ”„ Ù…Ø²Ø§Ù…Ù†Ø© master Ù…Ø¹ main...');
                
                // Get main branch SHA
                const mainRefHeaders = new Headers();
                mainRefHeaders.append('Authorization', 'token ' + cleanToken);
                mainRefHeaders.append('Accept', 'application/vnd.github.v3+json');
                
                const mainRefResponse = await fetch(
                    'https://api.github.com/repos/' + REPO_OWNER + '/' + REPO_NAME + '/git/refs/heads/main',
                    {
                        headers: mainRefHeaders
                    }
                );
                
                if (mainRefResponse.ok) {
                                        logMsg('âœ… ØªÙ… Ù…Ø²Ø§Ù…Ù†Ø© master Ø¨Ù†Ø¬Ø§Ø­.');
                    const mainRefData = await mainRefResponse.json();
                    const mainSha = mainRefData.object.sha;
                    
                    // Update master to point to same commit as main
                    const masterUpdateHeaders = new Headers();
                    masterUpdateHeaders.append('Authorization', 'token ' + cleanToken);
                    masterUpdateHeaders.append('Accept', 'application/vnd.github.v3+json');
                    masterUpdateHeaders.append('Content-Type', 'application/json');
                    
                    await fetch(
                        'https://api.github.com/repos/' + REPO_OWNER + '/' + REPO_NAME + '/git/refs/heads/master',
                        {
                            method: 'PATCH',
                            headers: masterUpdateHeaders,
                            body: JSON.stringify({
                                sha: mainSha,
                                force: true
                            })
                        }
                    );
                    
                    console.log('Successfully synced master branch');
                }

                statusMsg.innerHTML = 'Updating GitHub Pages...';
                                logMsg('ğŸ”„ ØªØ­Ø¯ÙŠØ« GitHub Pages...');
                
                // Trigger Pages rebuild
                const pagesHeaders = new Headers();
                pagesHeaders.append('Authorization', 'token ' + cleanToken);
                pagesHeaders.append('Accept', 'application/vnd.github.v3+json');
                
                const pagesResponse = await fetch(
                    'https://api.github.com/repos/' + REPO_OWNER + '/' + REPO_NAME + '/pages/builds',
                    {
                        method: 'POST',
                        headers: pagesHeaders
                    }
                );

                statusMsg.innerHTML = 'Published successfully! Wait 2-3 minutes for changes to appear on https://salam.zone.id/';
                                logMsg('âœ… ØªÙ… Ø§Ù„Ù†Ø´Ø± Ø¨Ù†Ø¬Ø§Ø­! Ø§Ù†ØªØ¸Ø± Ù‚Ù„ÙŠÙ„Ø§Ù‹ Ø­ØªÙ‰ ØªØ¸Ù‡Ø± Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª.');
                                logMsg('âŒ Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ù†Ø´Ø±: ' + error.message);
                        // Ø¥Ø¶Ø§ÙØ© Ø¹Ù†ØµØ± Ø³Ø¬Ù„ Ø§Ù„Ù†Ø´Ø± ÙÙŠ Ø£Ø³ÙÙ„ Ø§Ù„ØµÙØ­Ø©
                        window.addEventListener('DOMContentLoaded', function() {
                            if (!document.getElementById('publishLog')) {
                                const logDiv = document.createElement('div');
                                logDiv.innerHTML = '<label style="font-weight:bold;">Ø³Ø¬Ù„ Ø§Ù„Ù†Ø´Ø±:</label><br><textarea id="publishLog" style="width:100%;height:120px;direction:ltr;font-family:monospace;"></textarea>';
                                document.body.appendChild(logDiv);
                            }
                        });
                statusMsg.style.background = '#2ed573';
                setTimeout(() => statusMsg.style.display = 'none', 10000);

            } catch (error) {
                console.error('Publishing Error:', error);
                const statusMsg = document.getElementById('successMsg');
                statusMsg.innerHTML = 'Publishing error: ' + error.message;
                statusMsg.style.background = '#ff4757';
                statusMsg.style.display = 'block';
                
                // Keep error message visible longer
                setTimeout(() => statusMsg.style.display = 'none', 15000);
            }
        }

        async function generateHTMLFromTemplate(templateHTML) {
            // Validate template HTML first
            if (!templateHTML || templateHTML.length < 1000) {
                throw new Error('Ù‚Ø§Ù„Ø¨ HTML ØºÙŠØ± ØµØ§Ù„Ø­ Ø£Ùˆ ÙØ§Ø±Øº');
            }

            // Update basic info
            let updatedHTML = templateHTML;
            
            // Update title (first occurrence only)
            updatedHTML = updatedHTML.replace(
                /<title>[^<]*<\/title>/,
                `<title>${siteData.basic.name} - Ø§Ù„Ø¥Ø¹Ù„Ø§Ù…ÙŠØ© Ø§Ù„Ù‚Ø¯ÙŠØ±Ø©</title>`
            );
            
            // Update profile image
            updatedHTML = updatedHTML.replace(
                /<img src="[^"]*" alt="[^"]*" class="profile-img">/,
                `<img src="${siteData.basic.profileImage}" alt="${siteData.basic.name}" class="profile-img">`
            );
            
            // Update background image if set
            if (siteData.basic.backgroundImage) {
                updatedHTML = updatedHTML.replace(
                    /(body\s*{[\s\S]*?background-image:\s*url\(['"]?)[^'"()]+(['"]?\))/,
                    `$1${siteData.basic.backgroundImage}$2`
                );
            }
            
            // Update header name in <header> tag (more specific)
            updatedHTML = updatedHTML.replace(
                /(<header>[\s\S]*?<h1>)[^<]+(<\/h1>)/,
                `$1${siteData.basic.name}$2`
            );
            
            // Update subtitle after profile image
            updatedHTML = updatedHTML.replace(
                /(<img[^>]*class="profile-img"[^>]*>[\s\S]*?<h1>[^<]+<\/h1>[\s\S]*?<p>)[^<]+(<\/p>)/,
                `$1${siteData.basic.subtitle}$2`
            );
            
            // Update Info Cards section
            const infoCardsHTML = (siteData.infoCards || []).map(card => `
                <div class="info-card">
                    <div class="card-icon">${card.icon}</div>
                    <h3>${card.title}</h3>
                    <p>${card.content}</p>
                </div>`).join('\n');
            
            if (infoCardsHTML) {
                updatedHTML = updatedHTML.replace(
                    /(<div class="info-cards-container">)([\s\S]*?)(<\/div>\s*<\/section>)/,
                    `$1\n${infoCardsHTML}\n            $3`
                );
            }
            
            // Update Programs section - find the FIRST program list after "Ø¨Ø±Ø§Ù…Ø¬Ù‡Ø§"
            const programsHTML = siteData.programs.map(program => `
                <li>
                    <h3>${program.title}</h3>
                    <p>${program.description}</p>
                    <p>${program.note}</p>
                </li>`).join('\n');
            
            updatedHTML = updatedHTML.replace(
                /(<h2>Ø¨Ø±Ø§Ù…Ø¬Ù‡Ø§<\/h2>\s*<ul class="program-list">)([\s\S]*?)(<\/ul>)/,
                `$1\n${programsHTML}\n            $3`
            );
            
            // Update Gallery section
            // Ù„Ù… ÙŠØ¹Ø¯ Ù‡Ù†Ø§Ùƒ Ø­Ø§Ø¬Ø© Ù„ØªØ­Ø¯ÙŠØ« ÙƒÙˆØ¯ Ø§Ù„ØµÙˆØ± ÙÙŠ gallery.htmlØŒ Ø§Ù„ØµÙˆØ± ØªÙØ¹Ø±Ø¶ Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠÙ‹Ø§ Ù…Ù† comments.json ÙÙ‚Ø·
            
            // Update Videos section
            const videosHTML = siteData.videos.map(video => `
                <li class="video-item">
                    <iframe src="https://www.youtube.com/embed/${video.id}" allowfullscreen></iframe>
                    <h3>${video.title}</h3>
                    <p>${video.description}</p>
                </li>`).join('\n');
            
            updatedHTML = updatedHTML.replace(
                /(<h2>ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª Ù…Ø®ØªØ§Ø±Ø©<\/h2>\s*<ul class="video-grid">)([\s\S]*?)(<\/ul>)/,
                `$1\n${videosHTML}\n            $3`
            );
            
            // Update Social Links - be more specific with patterns
            if (siteData.social.instagram) {
                updatedHTML = updatedHTML.replace(
                    /(<a href=")https:\/\/(www\.)?instagram\.com\/[^"]*(")/,
                    `$1${siteData.social.instagram}$3`
                );
            }
            if (siteData.social.tiktok) {
                updatedHTML = updatedHTML.replace(
                    /(<a href=")https:\/\/(www\.)?tiktok\.com\/@[^"]*(")/,
                    `$1${siteData.social.tiktok}$3`
                );
            }
            if (siteData.social.youtube) {
                updatedHTML = updatedHTML.replace(
                    /(<a href=")https:\/\/(www\.)?youtube\.com\/@[^"]*(")/,
                    `$1${siteData.social.youtube}$3`
                );
            }
            if (siteData.social.facebook) {
                updatedHTML = updatedHTML.replace(
                    /(<a href=")https:\/\/(www\.)?facebook\.com\/[^"]*(")/,
                    `$1${siteData.social.facebook}$3`
                );
            }
            if (siteData.social.twitter) {
                updatedHTML = updatedHTML.replace(
                    /(<a href=")https:\/\/(www\.)?twitter\.com\/[^"]*(")/,
                    `$1${siteData.social.twitter}$3`
                );
            }
            
            // Update Background Audio
            if (siteData.basic.backgroundAudio) {
                // Convert Vocaroo URL if needed
                let audioUrl = siteData.basic.backgroundAudio;
                const vocarooMatch = audioUrl.match(/voca\.ro\/([a-zA-Z0-9]+)/);
                if (vocarooMatch) {
                    audioUrl = 'https://media1.vocaroo.com/mp3/' + vocarooMatch[1] + '.mp3';
                }
                
                // Update the audio source tag
                updatedHTML = updatedHTML.replace(
                    /(<audio id="backgroundAudio"[^>]*>[\s\S]*?<source src=")[^"]*(" type="audio\/mpeg">)/,
                    `$1${audioUrl}$2`
                );
                
                console.log('Updated audio URL to:', audioUrl);
            }
            
            // Final validation
            if (updatedHTML.length < 1000 || !updatedHTML.includes('<!DOCTYPE html>')) {
                throw new Error('ÙØ´Ù„ Ø¥Ù†Ø´Ø§Ø¡ HTML - Ø§Ù„Ù…Ø­ØªÙˆÙ‰ ØºÙŠØ± ÙƒØ§Ù…Ù„');
            }
            
            return updatedHTML;
        }

        function generateHTML() {
            // This is just a fallback
            alert('ÙŠØ±Ø¬Ù‰ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø²Ø± "Ù†Ø´Ø± Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª Ù…Ø¨Ø§Ø´Ø±Ø©" Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† Ø°Ù„Ùƒ');
            throw new Error('Ø§Ø³ØªØ®Ø¯Ù… Ø²Ø± Ø§Ù„Ù†Ø´Ø± Ø§Ù„Ù…Ø¨Ø§Ø´Ø±');
        }

        // Placeholder functions
        function addProgram() {
            const title = prompt('Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬:');
            if (!title) return;
            const description = prompt('ÙˆØµÙ Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬:');
            const note = prompt('Ù…Ù„Ø§Ø­Ø¸Ø© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ):') || '';
            
            siteData.programs.push({ title, description, note });
            localStorage.setItem('siteData', JSON.stringify(siteData));
            renderPrograms();
            exportWebsite();
        }

        function editProgram(index) {
            const program = siteData.programs[index];
            const title = prompt('Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬:', program.title);
            if (!title) return;
            const description = prompt('ÙˆØµÙ Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬:', program.description);
            const note = prompt('Ù…Ù„Ø§Ø­Ø¸Ø© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ):', program.note) || '';
            
            siteData.programs[index] = { title, description, note };
            localStorage.setItem('siteData', JSON.stringify(siteData));
            renderPrograms();
            exportWebsite();
        }

        function deleteProgram(index) {
            if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬ØŸ')) {
                siteData.programs.splice(index, 1);
                localStorage.setItem('siteData', JSON.stringify(siteData));
                renderPrograms();
                exportWebsite();
            }
        }

        function addInfoCard() {
            const icon = prompt('Ø£ÙŠÙ‚ÙˆÙ†Ø© Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© (emoji Ù…Ø«Ù„: ğŸ¯):');
            if (!icon) return;
            const title = prompt('Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©:');
            if (!title) return;
            const content = prompt('Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©:');
            if (!content) return;
            
            siteData.infoCards.push({ icon, title, content });
            localStorage.setItem('siteData', JSON.stringify(siteData));
            renderInfoCards();
            exportWebsite();
        }

        function editInfoCard(index) {
            const card = siteData.infoCards[index];
            const icon = prompt('Ø£ÙŠÙ‚ÙˆÙ†Ø© Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© (emoji):', card.icon);
            if (icon === null) return;
            const title = prompt('Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©:', card.title);
            if (title === null) return;
            const content = prompt('Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©:', card.content);
            if (content === null) return;
            
            siteData.infoCards[index] = { icon: icon || card.icon, title: title || card.title, content: content || card.content };
            localStorage.setItem('siteData', JSON.stringify(siteData));
            renderInfoCards();
            exportWebsite();
        }

        function deleteInfoCard(index) {
            if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ù‡ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©ØŸ')) {
                siteData.infoCards.splice(index, 1);
                localStorage.setItem('siteData', JSON.stringify(siteData));
                renderInfoCards();
                exportWebsite();
            }
        }

        function addGalleryImage() {
            const url = prompt('Ø±Ø§Ø¨Ø· Ø§Ù„ØµÙˆØ±Ø© Ø£Ùˆ Ø§Ø³Ù… Ø§Ù„Ù…Ù„Ù:');
            if (!url) return;
            
            siteData.gallery.push(url);
            localStorage.setItem('siteData', JSON.stringify(siteData));
            renderGallery();
            exportWebsite();
        }

        function deleteGalleryImage(index) {
            if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ù‡ Ø§Ù„ØµÙˆØ±Ø©ØŸ')) {
                siteData.gallery.splice(index, 1);
                localStorage.setItem('siteData', JSON.stringify(siteData));
                renderGallery();
                exportWebsite();
            }
        }

        function addVideo() {
            const id = prompt('Ù…Ø¹Ø±Ù Ø§Ù„ÙÙŠØ¯ÙŠÙˆ Ù…Ù† YouTube (Ø§Ù„Ø¬Ø²Ø¡ Ø¨Ø¹Ø¯ v= ÙÙŠ Ø§Ù„Ø±Ø§Ø¨Ø·):');
            if (!id) return;
            const title = prompt('Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ÙÙŠØ¯ÙŠÙˆ:');
            const description = prompt('ÙˆØµÙ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ:');
            
            siteData.videos.push({ id, title, description });
            localStorage.setItem('siteData', JSON.stringify(siteData));
            renderVideos();
            exportWebsite();
        }

        function editVideo(index) {
            const video = siteData.videos[index];
            const id = prompt('Ù…Ø¹Ø±Ù Ø§Ù„ÙÙŠØ¯ÙŠÙˆ Ù…Ù† YouTube:', video.id);
            if (!id) return;
            const title = prompt('Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ÙÙŠØ¯ÙŠÙˆ:', video.title);
            const description = prompt('ÙˆØµÙ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ:', video.description);
            
            siteData.videos[index] = { id, title, description };
            localStorage.setItem('siteData', JSON.stringify(siteData));
            renderVideos();
            exportWebsite();
        }

        function deleteVideo(index) {
            if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„ÙÙŠØ¯ÙŠÙˆØŸ')) {
                siteData.videos.splice(index, 1);
                localStorage.setItem('siteData', JSON.stringify(siteData));
                renderVideos();
                exportWebsite();
            }
                // Ø¯Ø§Ù„Ø© Ù†Ø´Ø± ØªÙ„Ù‚Ø§Ø¦ÙŠ Ø¨Ø¹Ø¯ Ø£ÙŠ Ø¹Ù…Ù„ÙŠØ© Ø­ÙØ¸/ØªØ¹Ø¯ÙŠÙ„/Ø­Ø°Ù
                function autoPublishAfterSave() {
                    GITHUB_TOKEN = localStorage.getItem('githubToken') || '';
                    if (!GITHUB_TOKEN || GITHUB_TOKEN.length < 20) {
                        alert('ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø±Ù…Ø² GitHub ØµØ§Ù„Ø­ Ø£ÙˆÙ„Ø§Ù‹ Ù…Ù† ØªØ¨ÙˆÙŠØ¨ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©. Ù„Ù† ÙŠØªÙ… Ø§Ù„Ù†Ø´Ø± Ø­ØªÙ‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„ØªÙˆÙƒÙ†.');
                        return;
                    }
                    publishToGitHub();
                }
        }

        // Guestbook Management Functions
        const FIREBASE_DB_URL = 'https://slam-guestbook-default-rtdb.firebaseio.com';
        let allFirebaseComments = {};
        
        async function loadCommentsFromFirebase() {
            const container = document.getElementById('commentsContainer');
            container.innerHTML = '<p style="text-align: center; padding: 40px; color: #999;">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</p>';
            
            try {
                const response = await fetch(FIREBASE_DB_URL + '/comments.json');
                const data = await response.json();
                
                if (!data || Object.keys(data).length === 0) {
                    container.innerHTML = '<p style="text-align: center; padding: 40px; color: #999;">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø±Ø³Ø§Ø¦Ù„ Ø­ØªÙ‰ Ø§Ù„Ø¢Ù†</p>';
                    return;
                }
                
                allFirebaseComments = data;
                
                // Separate pending and approved
                const pending = [];
                const approved = [];
                
                Object.entries(data).forEach(function([id, comment]) {
                    if (comment.approved) {
                        approved.push({ ...comment, firebaseId: id });
                    } else {
                        pending.push({ ...comment, firebaseId: id });
                    }
                });
                
                // Sort by timestamp
                pending.sort(function(a, b) { return b.timestamp - a.timestamp; });
                approved.sort(function(a, b) { return b.timestamp - a.timestamp; });
                
                let html = '';
                
                // Pending comments
                if (pending.length > 0) {
                    html += '<h3 style="color: #ffc107; margin-bottom: 20px;">ğŸ“¬ Ø±Ø³Ø§Ø¦Ù„ Ø¬Ø¯ÙŠØ¯Ø© (' + pending.length + ')</h3>';
                    
                    pending.forEach(function(comment) {
                        html += '<div style="background: #fff3cd; border: 2px solid #ffc107; padding: 20px; border-radius: 10px; margin-bottom: 15px;"><div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;"><strong style="font-size: 18px; color: #856404;">' + escapeHtml(comment.name) + '</strong><span style="color: #856404; font-size: 14px;">' + comment.date + '</span></div>' + (comment.email ? '<p style="color: #856404; margin-bottom: 10px;">ğŸ“§ ' + escapeHtml(comment.email) + '</p>' : '') + '<p style="margin-bottom: 15px; line-height: 1.8; color: #333; background: white; padding: 15px; border-radius: 5px;">' + escapeHtml(comment.message) + '</p><div style="display: flex; gap: 10px;"><button onclick="approveFirebaseComment(\'' + comment.firebaseId + '\')" style="padding: 8px 15px; background: #2ed573; color: white; border: none; border-radius: 5px; cursor: pointer; font-family: \'Cairo\', sans-serif;">âœ“ Ù†Ø´Ø±</button><button onclick="replyFirebaseComment(\'' + comment.firebaseId + '\')" style="padding: 8px 15px; background: #667eea; color: white; border: none; border-radius: 5px; cursor: pointer; font-family: \'Cairo\', sans-serif;">ğŸ’¬ Ø§Ù„Ø±Ø¯ ÙˆÙ†Ø´Ø±</button><button onclick="deleteFirebaseComment(\'' + comment.firebaseId + '\')" style="padding: 8px 15px; background: #ff4757; color: white; border: none; border-radius: 5px; cursor: pointer; font-family: \'Cairo\', sans-serif;">âœ— Ø­Ø°Ù</button></div></div>';
                    });
                    
                    html += '<hr style="margin: 30px 0; border: 1px solid #ddd;">';
                }
                
                // Approved comments
                if (approved.length > 0) {
                    html += '<h3 style="color: #2ed573; margin-bottom: 20px;">âœ… Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ù…Ù†Ø´ÙˆØ±Ø© (' + approved.length + ')</h3>';
                    
                    approved.forEach(function(comment) {
                        html += '<div style="background: #f5f5f5; padding: 20px; border-radius: 10px; margin-bottom: 15px;"><div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;"><strong style="font-size: 18px; color: #667eea;">' + escapeHtml(comment.name) + '</strong><span style="color: #999; font-size: 14px;">' + comment.date + '</span></div><p style="margin-bottom: 15px; line-height: 1.8; color: #333;">' + escapeHtml(comment.message) + '</p>' + (comment.reply ? '<div style="background: rgba(103, 126, 234, 0.1); padding: 15px; border-right: 3px solid #667eea; border-radius: 5px; margin-bottom: 15px;"><strong style="color: #667eea;">Ø±Ø¯Ùƒ:</strong><p style="margin-top: 5px; color: #333;">' + escapeHtml(comment.reply) + '</p></div>' : '') + '<div style="display: flex; gap: 10px;"><button onclick="replyFirebaseComment(\'' + comment.firebaseId + '\')" style="padding: 8px 15px; background: #667eea; color: white; border: none; border-radius: 5px; cursor: pointer; font-family: \'Cairo\', sans-serif;">' + (comment.reply ? 'ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø±Ø¯' : 'Ø¥Ø¶Ø§ÙØ© Ø±Ø¯') + '</button><button onclick="unpublishFirebaseComment(\'' + comment.firebaseId + '\')" style="padding: 8px 15px; background: #ff9800; color: white; border: none; border-radius: 5px; cursor: pointer; font-family: \'Cairo\', sans-serif;">â¸ Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ù†Ø´Ø±</button><button onclick="deleteFirebaseComment(\'' + comment.firebaseId + '\')" style="padding: 8px 15px; background: #ff4757; color: white; border: none; border-radius: 5px; cursor: pointer; font-family: \'Cairo\', sans-serif;">âœ— Ø­Ø°Ù</button></div></div>';
                    });
                }
                
                container.innerHTML = html;
            } catch (error) {
                container.innerHTML = '<p style="text-align: center; padding: 40px; color: #ff4757;">Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„: ' + error.message + '</p>';
            }
        }
        
        async function approveFirebaseComment(firebaseId) {
            try {
                await fetch(FIREBASE_DB_URL + '/comments/' + firebaseId + '.json', {
                    method: 'PATCH',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ approved: true })
                });
                await syncCommentsToGitHub();
                showSuccess('ØªÙ… Ù†Ø´Ø± Ø§Ù„Ø±Ø³Ø§Ù„Ø©!');
            } catch (error) {
                alert('Ø­Ø¯Ø« Ø®Ø·Ø£: ' + error.message);
            }
        }
        
        async function replyFirebaseComment(firebaseId) {
            const comment = allFirebaseComments[firebaseId];
            const reply = prompt('Ø§ÙƒØªØ¨ Ø±Ø¯Ùƒ Ø¹Ù„Ù‰ ' + comment.name + ':', comment.reply || '');
            
            if (reply !== null) {
                try {
                    await fetch(FIREBASE_DB_URL + '/comments/' + firebaseId + '.json', {
                        method: 'PATCH',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ reply: reply, approved: true })
                    });
                    await syncCommentsToGitHub();
                    showSuccess('ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø±Ø¯ ÙˆÙ†Ø´Ø± Ø§Ù„Ø±Ø³Ø§Ù„Ø©!');
                } catch (error) {
                    alert('Ø­Ø¯Ø« Ø®Ø·Ø£: ' + error.message);
                }
            }
        }
        
        async function unpublishFirebaseComment(firebaseId) {
            if (confirm('Ù‡Ù„ ØªØ±ÙŠØ¯ Ø¥Ù„ØºØ§Ø¡ Ù†Ø´Ø± Ù‡Ø°Ù‡ Ø§Ù„Ø±Ø³Ø§Ù„Ø©ØŸ')) {
                try {
                    await fetch(FIREBASE_DB_URL + '/comments/' + firebaseId + '.json', {
                        method: 'PATCH',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ approved: false })
                    });
                    await syncCommentsToGitHub();
                    showSuccess('ØªÙ… Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ù†Ø´Ø±!');
                } catch (error) {
                    alert('Ø­Ø¯Ø« Ø®Ø·Ø£: ' + error.message);
                }
            }
        }
        
        async function deleteFirebaseComment(firebaseId) {
            if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ù‡ Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ù†Ù‡Ø§Ø¦ÙŠØ§Ù‹ØŸ')) {
                try {
                    await fetch(FIREBASE_DB_URL + '/comments/' + firebaseId + '.json', {
                        method: 'DELETE'
                    });
                    await syncCommentsToGitHub();
                    showSuccess('ØªÙ… Ø§Ù„Ø­Ø°Ù!');
                } catch (error) {
                    alert('Ø­Ø¯Ø« Ø®Ø·Ø£: ' + error.message);
                }
            }
                // Ù…Ø²Ø§Ù…Ù†Ø© Ø§Ù„ØªØ¹Ù„ÙŠÙ‚Ø§Øª Ù…Ù† Firebase Ø¥Ù„Ù‰ GitHub
                async function syncCommentsToGitHub() {
                    try {
                        // Ø¬Ù„Ø¨ Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØ¹Ù„ÙŠÙ‚Ø§Øª Ù…Ù† Firebase
                        const response = await fetch(FIREBASE_DB_URL + '/comments.json');
                        const data = await response.json();
                        if (!data) return;
                        // ØªØ­ÙˆÙŠÙ„ Ø§Ù„ØªØ¹Ù„ÙŠÙ‚Ø§Øª Ø¥Ù„Ù‰ Ù…ØµÙÙˆÙØ© Ù…Ø±ØªØ¨Ø© Ø­Ø³Ø¨ timestamp ØªÙ†Ø§Ø²Ù„ÙŠ
                        const commentsArr = Object.entries(data)
                            .map(([id, comment]) => ({ ...comment, firebaseId: id }))
                            .filter(c => c.approved)
                            .sort((a, b) => b.timestamp - a.timestamp);
                        window.allComments = commentsArr;
                        await saveCommentsToGitHub();
                    } catch (e) {
                        console.error('syncCommentsToGitHub error:', e);
                    }
                }
        }
        
        // Alias for compatibility
        function loadComments() {
            loadCommentsFromFirebase();
        }

        async function replyToComment(index) {
            const comment = allComments[index];
            const reply = prompt('Ø§ÙƒØªØ¨ Ø±Ø¯Ùƒ Ø¹Ù„Ù‰ ' + comment.name + ':', comment.reply || '');
            
            if (reply !== null) {
                allComments[index].reply = reply;
                await saveCommentsToGitHub();
                loadComments();
                showSuccess();
            }
        }

        async function deleteComment(index) {
            if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ù‡ Ø§Ù„Ø±Ø³Ø§Ù„Ø©ØŸ')) {
                allComments.splice(index, 1);
                await saveCommentsToGitHub();
                loadComments();
                showSuccess();
            }
        }
        
        async function saveCommentsToGitHub() {
            const token = cleanToken(GITHUB_TOKEN);
            if (!token) {
                alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ GitHub Token Ø£ÙˆÙ„Ø§Ù‹');
                return;
            }
            
            try {
                const shaResponse = await fetch('https://api.github.com/repos/' + REPO_OWNER + '/' + REPO_NAME + '/contents/comments.json', {
                    headers: new Headers({
                        'Authorization': 'token ' + token,
                        'Accept': 'application/vnd.github.v3+json'
                    })
                });
                
                let sha = '';
                if (shaResponse.ok) {
                    const data = await shaResponse.json();
                    sha = data.sha;
                }
                
                const content = btoa(unescape(encodeURIComponent(JSON.stringify(allComments, null, 2))));
                
                await fetch('https://api.github.com/repos/' + REPO_OWNER + '/' + REPO_NAME + '/contents/comments.json', {
                    method: 'PUT',
                    headers: new Headers({
                        'Authorization': 'token ' + token,
                        'Content-Type': 'application/json',
                        'Accept': 'application/vnd.github.v3+json'
                    }),
                    body: JSON.stringify({
                        message: 'Update comments',
                        content: content,
                        sha: sha,
                        branch: 'main'
                    })
                });
                
                await new Promise(resolve => setTimeout(resolve, 1000));
            } catch (error) {
                alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø­ÙØ¸ Ø§Ù„ØªØ¹Ù„ÙŠÙ‚Ø§Øª: ' + error.message);
            }
        }

        function escapeHtml(text) {
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }

        // Enter key support
        document.getElementById('password')?.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') login();
        });
    </script>
</body>
</html>